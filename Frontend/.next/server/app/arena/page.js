(()=>{var e={};e.id=70,e.ids=[70],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7393:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ts});var s=r(60687),a=r(76180),n=r.n(a),l=r(43210),o=r(24934),i=r(55192),d=r(59821),c=r(68988),u=r(14163),m=l.forwardRef((e,t)=>(0,s.jsx)(u.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));m.displayName="Label";var x=r(96241);function p({className:e,...t}){return(0,s.jsx)(m,{"data-slot":"label",className:(0,x.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var h=r(63974),b=r(70569),g=r(98599),f=r(11273),y=r(96963),v=r(65551),j=r(31355),w=r(32547),N=r(25028),C=r(46059),D=r(1359),A=r(42247),P=r(63376),k=r(8730),F="Dialog",[E,L]=(0,f.A)(F),[$,_]=E(F),R=e=>{let{__scopeDialog:t,children:r,open:a,defaultOpen:n,onOpenChange:o,modal:i=!0}=e,d=l.useRef(null),c=l.useRef(null),[u=!1,m]=(0,v.i)({prop:a,defaultProp:n,onChange:o});return(0,s.jsx)($,{scope:t,triggerRef:d,contentRef:c,contentId:(0,y.B)(),titleId:(0,y.B)(),descriptionId:(0,y.B)(),open:u,onOpenChange:m,onOpenToggle:l.useCallback(()=>m(e=>!e),[m]),modal:i,children:r})};R.displayName=F;var z="DialogTrigger",T=l.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=_(z,r),l=(0,g.s)(t,n.triggerRef);return(0,s.jsx)(u.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":et(n.open),...a,ref:l,onClick:(0,b.m)(e.onClick,n.onOpenToggle)})});T.displayName=z;var I="DialogPortal",[S,O]=E(I,{forceMount:void 0}),q=e=>{let{__scopeDialog:t,forceMount:r,children:a,container:n}=e,o=_(I,t);return(0,s.jsx)(S,{scope:t,forceMount:r,children:l.Children.map(a,e=>(0,s.jsx)(C.C,{present:r||o.open,children:(0,s.jsx)(N.Z,{asChild:!0,container:n,children:e})}))})};q.displayName=I;var U="DialogOverlay",M=l.forwardRef((e,t)=>{let r=O(U,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,l=_(U,e.__scopeDialog);return l.modal?(0,s.jsx)(C.C,{present:a||l.open,children:(0,s.jsx)(Q,{...n,ref:t})}):null});M.displayName=U;var Q=l.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=_(U,r);return(0,s.jsx)(A.A,{as:k.DX,allowPinchZoom:!0,shards:[n.contentRef],children:(0,s.jsx)(u.sG.div,{"data-state":et(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),X="DialogContent",B=l.forwardRef((e,t)=>{let r=O(X,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,l=_(X,e.__scopeDialog);return(0,s.jsx)(C.C,{present:a||l.open,children:l.modal?(0,s.jsx)(W,{...n,ref:t}):(0,s.jsx)(Z,{...n,ref:t})})});B.displayName=X;var W=l.forwardRef((e,t)=>{let r=_(X,e.__scopeDialog),a=l.useRef(null),n=(0,g.s)(t,r.contentRef,a);return l.useEffect(()=>{let e=a.current;if(e)return(0,P.Eq)(e)},[]),(0,s.jsx)(G,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,b.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,b.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,b.m)(e.onFocusOutside,e=>e.preventDefault())})}),Z=l.forwardRef((e,t)=>{let r=_(X,e.__scopeDialog),a=l.useRef(!1),n=l.useRef(!1);return(0,s.jsx)(G,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||r.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"!==t.detail.originalEvent.type||(n.current=!0));let s=t.target;r.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),G=l.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:o,...i}=e,d=_(X,r),c=l.useRef(null),u=(0,g.s)(t,c);return(0,D.Oh)(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.n,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:o,children:(0,s.jsx)(j.qW,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":et(d.open),...i,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en,{titleId:d.titleId}),(0,s.jsx)(el,{contentRef:c,descriptionId:d.descriptionId})]})]})}),J="DialogTitle",V=l.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=_(J,r);return(0,s.jsx)(u.sG.h2,{id:n.titleId,...a,ref:t})});V.displayName=J;var Y="DialogDescription",H=l.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=_(Y,r);return(0,s.jsx)(u.sG.p,{id:n.descriptionId,...a,ref:t})});H.displayName=Y;var K="DialogClose",ee=l.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=_(K,r);return(0,s.jsx)(u.sG.button,{type:"button",...a,ref:t,onClick:(0,b.m)(e.onClick,()=>n.onOpenChange(!1))})});function et(e){return e?"open":"closed"}ee.displayName=K;var er="DialogTitleWarning",[es,ea]=(0,f.q)(er,{contentName:X,titleName:J,docsSlug:"dialog"}),en=({titleId:e})=>{let t=ea(er),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return l.useEffect(()=>{e&&!document.getElementById(e)&&console.error(r)},[r,e]),null},el=({contentRef:e,descriptionId:t})=>{let r=ea("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return l.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&!document.getElementById(t)&&console.warn(s)},[s,e,t]),null},eo=r(11860);function ei({...e}){return(0,s.jsx)(R,{"data-slot":"dialog",...e})}function ed({...e}){return(0,s.jsx)(T,{"data-slot":"dialog-trigger",...e})}function ec({...e}){return(0,s.jsx)(q,{"data-slot":"dialog-portal",...e})}function eu({className:e,...t}){return(0,s.jsx)(M,{"data-slot":"dialog-overlay",className:(0,x.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function em({className:e,children:t,showCloseButton:r=!0,...a}){return(0,s.jsxs)(ec,{"data-slot":"dialog-portal",children:[(0,s.jsx)(eu,{}),(0,s.jsxs)(B,{"data-slot":"dialog-content",className:(0,x.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...a,children:[t,r&&(0,s.jsxs)(ee,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(eo.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ex({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,x.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ep({className:e,...t}){return(0,s.jsx)(V,{"data-slot":"dialog-title",className:(0,x.cn)("text-lg leading-none font-semibold",e),...t})}function eh({className:e,...t}){return(0,s.jsx)(H,{"data-slot":"dialog-description",className:(0,x.cn)("text-muted-foreground text-sm",e),...t})}var eb=r(99253),eg=r(90573),ef=r(70193),ey=r(87987),ev=r(92002),ej=r(19361),ew=r(47052),eN=r(92363),eC=r(45583),eD=r(67268),eA=r(5336),eP=r(77306),ek=r(41312),eF=r(62688);let eE=(0,eF.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var eL=r(78122);let e$=(0,eF.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var e_=r(41862),eR=r(70333),ez=r(38674),eT=r(69024),[eI,eS]=(0,f.A)("Tooltip",[ez.Bk]),eO=(0,ez.Bk)(),eq="TooltipProvider",eU="tooltip.open",[eM,eQ]=eI(eq),eX=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:o}=e,[i,d]=l.useState(!0),c=l.useRef(!1),u=l.useRef(0);return l.useEffect(()=>{let e=u.current;return()=>window.clearTimeout(e)},[]),(0,s.jsx)(eM,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:l.useCallback(()=>{window.clearTimeout(u.current),d(!1)},[]),onClose:l.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>d(!0),a)},[a]),isPointerInTransitRef:c,onPointerInTransitChange:l.useCallback(e=>{c.current=e},[]),disableHoverableContent:n,children:o})};eX.displayName=eq;var eB="Tooltip",[eW,eZ]=eI(eB),eG=e=>{let{__scopeTooltip:t,children:r,open:a,defaultOpen:n=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:d}=e,c=eQ(eB,e.__scopeTooltip),u=eO(t),[m,x]=l.useState(null),p=(0,y.B)(),h=l.useRef(0),b=i??c.disableHoverableContent,g=d??c.delayDuration,f=l.useRef(!1),[j=!1,w]=(0,v.i)({prop:a,defaultProp:n,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(eU))):c.onClose(),o?.(e)}}),N=l.useMemo(()=>j?f.current?"delayed-open":"instant-open":"closed",[j]),C=l.useCallback(()=>{window.clearTimeout(h.current),h.current=0,f.current=!1,w(!0)},[w]),D=l.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w(!1)},[w]),A=l.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{f.current=!0,w(!0),h.current=0},g)},[g,w]);return l.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),(0,s.jsx)(ez.bL,{...u,children:(0,s.jsx)(eW,{scope:t,contentId:p,open:j,stateAttribute:N,trigger:m,onTriggerChange:x,onTriggerEnter:l.useCallback(()=>{c.isOpenDelayed?A():C()},[c.isOpenDelayed,A,C]),onTriggerLeave:l.useCallback(()=>{b?D():(window.clearTimeout(h.current),h.current=0)},[D,b]),onOpen:C,onClose:D,disableHoverableContent:b,children:r})})};eG.displayName=eB;var eJ="TooltipTrigger",eV=l.forwardRef((e,t)=>{let{__scopeTooltip:r,...a}=e,n=eZ(eJ,r),o=eQ(eJ,r),i=eO(r),d=l.useRef(null),c=(0,g.s)(t,d,n.onTriggerChange),m=l.useRef(!1),x=l.useRef(!1),p=l.useCallback(()=>m.current=!1,[]);return l.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),(0,s.jsx)(ez.Mz,{asChild:!0,...i,children:(0,s.jsx)(u.sG.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...a,ref:c,onPointerMove:(0,b.m)(e.onPointerMove,e=>{"touch"===e.pointerType||x.current||o.isPointerInTransitRef.current||(n.onTriggerEnter(),x.current=!0)}),onPointerLeave:(0,b.m)(e.onPointerLeave,()=>{n.onTriggerLeave(),x.current=!1}),onPointerDown:(0,b.m)(e.onPointerDown,()=>{m.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:(0,b.m)(e.onFocus,()=>{m.current||n.onOpen()}),onBlur:(0,b.m)(e.onBlur,n.onClose),onClick:(0,b.m)(e.onClick,n.onClose)})})});eV.displayName=eJ;var eY="TooltipPortal",[eH,eK]=eI(eY,{forceMount:void 0}),e0=e=>{let{__scopeTooltip:t,forceMount:r,children:a,container:n}=e,l=eZ(eY,t);return(0,s.jsx)(eH,{scope:t,forceMount:r,children:(0,s.jsx)(C.C,{present:r||l.open,children:(0,s.jsx)(N.Z,{asChild:!0,container:n,children:a})})})};e0.displayName=eY;var e1="TooltipContent",e5=l.forwardRef((e,t)=>{let r=eK(e1,e.__scopeTooltip),{forceMount:a=r.forceMount,side:n="top",...l}=e,o=eZ(e1,e.__scopeTooltip);return(0,s.jsx)(C.C,{present:a||o.open,children:o.disableHoverableContent?(0,s.jsx)(e8,{side:n,...l,ref:t}):(0,s.jsx)(e2,{side:n,...l,ref:t})})}),e2=l.forwardRef((e,t)=>{let r=eZ(e1,e.__scopeTooltip),a=eQ(e1,e.__scopeTooltip),n=l.useRef(null),o=(0,g.s)(t,n),[i,d]=l.useState(null),{trigger:c,onClose:u}=r,m=n.current,{onPointerInTransitChange:x}=a,p=l.useCallback(()=>{d(null),x(!1)},[x]),h=l.useCallback((e,t)=>{let r=e.currentTarget,s={x:e.clientX,y:e.clientY},a=function(e,t){let r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),n=Math.abs(t.left-e.x);switch(Math.min(r,s,a,n)){case n:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw Error("unreachable")}}(s,r.getBoundingClientRect());d(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:+!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let s=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(s.y-r.y)>=(e.y-r.y)*(s.x-r.x))t.pop();else break}t.push(s)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let s=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(s.y-t.y)>=(e.y-t.y)*(s.x-t.x))r.pop();else break}r.push(s)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(t)}([...function(e,t,r=5){let s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return s}(s,a),...function(e){let{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}(t.getBoundingClientRect())])),x(!0)},[x]);return l.useEffect(()=>()=>p(),[p]),l.useEffect(()=>{if(c&&m){let e=e=>h(e,m),t=e=>h(e,c);return c.addEventListener("pointerleave",e),m.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",t)}}},[c,m,h,p]),l.useEffect(()=>{if(i){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},s=c?.contains(t)||m?.contains(t),a=!function(e,t){let{x:r,y:s}=e,a=!1;for(let e=0,n=t.length-1;e<t.length;n=e++){let l=t[e].x,o=t[e].y,i=t[n].x,d=t[n].y;o>s!=d>s&&r<(i-l)*(s-o)/(d-o)+l&&(a=!a)}return a}(r,i);s?p():a&&(p(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,m,i,u,p]),(0,s.jsx)(e8,{...e,ref:o})}),[e3,e6]=eI(eB,{isInside:!1}),e8=l.forwardRef((e,t)=>{let{__scopeTooltip:r,children:a,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:i,...d}=e,c=eZ(e1,r),u=eO(r),{onClose:m}=c;return l.useEffect(()=>(document.addEventListener(eU,m),()=>document.removeEventListener(eU,m)),[m]),l.useEffect(()=>{if(c.trigger){let e=e=>{let t=e.target;t?.contains(c.trigger)&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,m]),(0,s.jsx)(j.qW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:m,children:(0,s.jsxs)(ez.UC,{"data-state":c.stateAttribute,...u,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,s.jsx)(k.xV,{children:a}),(0,s.jsx)(e3,{scope:r,isInside:!0,children:(0,s.jsx)(eT.b,{id:c.contentId,role:"tooltip",children:n||a})})]})})});e5.displayName=e1;var e4="TooltipArrow",e7=l.forwardRef((e,t)=>{let{__scopeTooltip:r,...a}=e,n=eO(r);return e6(e4,r).isInside?null:(0,s.jsx)(ez.i3,{...n,...a,ref:t})});function e9({delayDuration:e=0,...t}){return(0,s.jsx)(eX,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function te({...e}){return(0,s.jsx)(e9,{children:(0,s.jsx)(eG,{"data-slot":"tooltip",...e})})}function tt({...e}){return(0,s.jsx)(eV,{"data-slot":"tooltip-trigger",...e})}function tr({className:e,sideOffset:t=0,children:r,...a}){return(0,s.jsx)(e0,{children:(0,s.jsxs)(e5,{"data-slot":"tooltip-content",sideOffset:t,className:(0,x.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...a,children:[r,(0,s.jsx)(e7,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function ts(){let{signer:e,isConnected:t,isOnConflux:r,chainId:a,switchToConflux:u,account:m}=(0,eb.$)(),{toast:x}=(0,eR.dj)(),[b,g]=(0,l.useState)([]),[f,y]=(0,l.useState)(!0),[v,j]=(0,l.useState)(null),[w,N]=(0,l.useState)(!1),[C,D]=(0,l.useState)(""),[A,P]=(0,l.useState)(!1),[k,F]=(0,l.useState)(!1),[E,L]=(0,l.useState)(""),[$,_]=(0,l.useState)({name:"",category:"",entryFee:"",maxPlayers:"2"}),[R,z]=(0,l.useState)(null),[T,I]=(0,l.useState)(null),[S,O]=(0,l.useState)(!1),q=S&&m?b.filter(e=>e.creator?.toLowerCase()===m.toLowerCase()):b,U=async r=>{if(!e||!t){x({title:"Connect wallet",description:"Please connect your wallet to update scores.",variant:"destructive"});return}I(r);try{let t=Q(r);if(!t){x({title:"No scores found",description:"No pending scores found for this lobby.",variant:"destructive"});return}let{players:s,scores:a,allPlayerScores:n,detailedResults:l}=t;console.log("Updating scores for lobby:",r),console.log("Players:",s),console.log("Scores:",a),console.log("All player scores:",n),console.log("Detailed results:",l),new eg.NZ(ev.QX.QUIZ_CRAFT_ARENA,ev.UN,e),console.log("Scores collected for lobby:",r),console.log("Players:",s),console.log("Scores:",a);let o=s.map((e,t)=>({addr:e,score:Number(a[t]||0)})).sort((e,t)=>t.score-e.score).map(e=>e.addr);console.log("Leaderboard created:",o);let i={...t,status:"confirmed",leaderboard:o};localStorage.setItem(`quizcraft:lobby-scores:${r}`,JSON.stringify(i));let d=s.length,c=a.reduce((e,t)=>e+t,0);x({title:"All Scores Updated",description:`${d} players' scores (${c} total points) and leaderboard updated on-chain.`,duration:4e3}),W()}catch(e){console.error("Error updating scores:",e),x({title:"Update Failed",description:e.message||"Failed to update scores.",variant:"destructive"})}finally{I(null)}},M=e=>{try{let t=localStorage.getItem(`quizcraft:lobby-scores:${e}`);if(!t)return!1;let{status:r}=JSON.parse(t);return"pending"===r}catch{return!1}},Q=e=>{try{let t=localStorage.getItem(`quizcraft:lobby-scores:${e}`);if(!t)return null;let r=JSON.parse(t),s={...r.allPlayerScores||{}},a=r.players||[];a.forEach(t=>{let r=`quizcraft:player-contribution:${e}:${t}`,a=localStorage.getItem(r);if(a){let e=JSON.parse(a);s[t]=e.score,console.log(`Collected score for ${t}: ${e.score}`)}});let n={...r,allPlayerScores:s,scores:a.map(e=>s[e]||0)};return localStorage.setItem(`quizcraft:lobby-scores:${e}`,JSON.stringify(n)),console.log("Collected all player scores:",n),n}catch(e){return console.error("Error collecting player scores:",e),null}},X=e=>{try{let t=localStorage.getItem(`quizcraft:lobby-scores:${e}`);if(!t)return!1;let{status:r}=JSON.parse(t);return"confirmed"===r}catch{return!1}},B=async e=>{if(!m||!R||m.toLowerCase()!==R.toLowerCase()){x({title:"Unauthorized",description:"Only the game master can resolve.",variant:"destructive"});return}try{let t=localStorage.getItem(`quizcraft:lobby-scores:${e}`);if(!t){x({title:"No leaderboard",description:"No leaderboard found for this lobby.",variant:"destructive"});return}let r=JSON.parse(t),s=Array.isArray(r.leaderboard)&&r.leaderboard.length>0?r.leaderboard[0]:null;if(!s){x({title:"No winner",description:"Leaderboard is missing or empty.",variant:"destructive"});return}let a=await fetch("/api/resolve-game",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.NEXT_PUBLIC_RESOLVE_GAME_API_KEY||"default-secret"}`},body:JSON.stringify({lobbyId:e,winnerAddress:s})});if(a.ok){let e=await a.json();x({title:"Game Resolved",description:`Prize distributed. Tx: ${e.transactionHash}`,duration:5e3})}else{let e=await a.json();x({title:"Resolve failed",description:e.error||"Unable to resolve.",variant:"destructive"})}}catch(e){x({title:"Resolve failed",description:e?.message||"Unable to resolve.",variant:"destructive"})}},W=(0,l.useCallback)(async()=>{try{let e=new ef.k(window.ethereum),t=new eg.NZ(ev.QX.QUIZ_CRAFT_ARENA,ev.UN,e);D("Fetching from contract...");let r=await t.nextLobbyId(),s=Number(r);D(`Found ${s} lobbies`);let a=[];for(let e=0;e<s;e++)try{let r=await t.lobbies(e);console.log(`Lobby ${e} raw data:`,r);let s=r[11],n=r[10];console.log(`Lobby ${e} creator (index 11):`,s),console.log(`Lobby ${e} winner (index 10):`,n);let l=ey.ck(r.entryFee),o=Number(r.status),i=Number(r.playerCount),d=Number(r.maxPlayers),c=Math.floor(Date.now()/1e3),u=Number(r.createdAt),x=c>=u+300,p=!1,h="";0===o?(p=!x&&i<d,h=x?"Expired":0===i?"Waiting for players":`${i}/${d} players`):1===o?(p=!x&&i<d,h=x?"Expired":`${i}/${d} players`):2===o?(p=!1,h=x?"Expired":"Game in progress"):3===o?(p=!1,h="Completed"):4===o&&(p=!1,h="Cancelled");let b=!1;if(m)try{b=await t.isPlayerInLobby(e,m),console.log(`User ${m} in lobby ${e}:`,b)}catch(t){console.error(`Error checking if user in lobby ${e}:`,t)}a.push({id:String(r.id),name:r.name,category:r.category,mode:`🎯 ${r.name}`,entryFee:l,currentPlayers:i,maxPlayers:d,isActive:p,isExpired:x,creator:s,status:h,isUserInLobby:b})}catch(t){console.error(`Error fetching lobby ${e}:`,t)}g(a),D(`Loaded ${a.length} lobbies`)}catch(e){console.error("Error fetching lobbies:",e),D(`Error: ${e}`),g([])}finally{y(!1)}},[m]),Z=async r=>{if(console.log("joinLobby function called"),!e||!t){x({title:"Connect wallet",description:"Please connect your wallet to join.",variant:"destructive"});return}if(r.isUserInLobby){console.log("User is already in lobby, should use Enter Lobby button:",r.id);return}if(r.currentPlayers>=r.maxPlayers){x({title:"Lobby is full",description:"Please choose another lobby.",variant:"destructive"});return}if(!r.isActive){window.location.href=`/arena/${r.id}`;return}j(r.id);try{{let t=new eg.NZ(ev.QX.QUIZ_CRAFT_ARENA,ev.UN,e),a=ey.g5(r.entryFee);console.log("Joining lobby:",{lobbyId:r.id,lobbyName:r.name,entryFee:r.entryFee,entryFeeWei:a.toString(),contractAddress:ev.QX.QUIZ_CRAFT_ARENA});let n=await t.joinLobby(r.id,{value:a});console.log("Transaction sent:",n.hash),console.log("Transaction details:",{to:n.to,value:n.value?.toString(),gasLimit:n.gasLimit?.toString(),gasPrice:n.gasPrice?.toString()});let l=await n.wait();console.log("Transaction confirmed:",l),x({title:"\uD83C\uDFAF Joined Lobby Successfully!",description:`Entered "${r.name}" (${r.entryFee} CFX entry fee)`,duration:4e3,action:(0,s.jsx)("a",{href:`https://evmtestnet.confluxscan.org/tx/${n.hash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline text-sm",children:"View Transaction"})});try{m&&sessionStorage.setItem(`quizcraft:joined:${r.id}:${m.toLowerCase()}`,"true")}catch{}g(e=>e.map(e=>e.id===r.id?{...e,isUserInLobby:!0,currentPlayers:e.currentPlayers+1}:e)),setTimeout(()=>{window.location.href=`/arena/${Number(r.id)}`},300)}}catch(t){console.error("Error joining lobby:",t),console.log("About to show toast with error:",t.reason||t.message);let e=t.reason||t.message||"Transaction failed";console.log("Toast will show:",e),x({title:"❌ Join Failed",description:e,duration:1e4}),console.log("Toast called")}finally{j(null)}},G=async()=>{if(!e||!t){x({title:"Connect wallet",description:"Please connect your wallet to create a lobby.",variant:"destructive"});return}if(!$.name.trim()){x({title:"Invalid name",description:"Lobby name cannot be empty.",variant:"destructive"});return}if(!$.category.trim()){x({title:"Invalid category",description:"Please select a quiz category.",variant:"destructive"});return}let r=parseFloat($.entryFee);if(isNaN(r)||r<=0){x({title:"Invalid entry fee",description:"Enter a fee greater than 0.",variant:"destructive"});return}let a=parseInt($.maxPlayers);if(isNaN(a)||a<2||a>10){x({title:"Invalid players",description:"Players must be between 2 and 10.",variant:"destructive"});return}N(!0);try{let t=new eg.NZ(ev.QX.QUIZ_CRAFT_ARENA,ev.UN,e),r=ey.g5($.entryFee),n=await t.createLobby($.name.trim(),$.category.trim(),r,a);console.log("Create lobby transaction sent:",n.hash),await n.wait(),console.log("Lobby created successfully"),x({title:"\uD83C\uDF89 Lobby Created Successfully!",description:`"${$.name}" is now live and ready for players.`,duration:5e3,action:(0,s.jsx)("a",{href:`https://evmtestnet.confluxscan.org/tx/${n.hash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline text-sm",children:"View on Explorer"})}),L($.name),F(!0),_({name:"",category:"",entryFee:"",maxPlayers:"2"}),P(!1),W(),setTimeout(()=>{W()},3e3),setTimeout(()=>{window.location.reload()},2e3)}catch(t){console.error("Error creating lobby:",t);let e=t?.transaction?.hash||t?.receipt?.transactionHash||t?.hash;x({title:"❌ Lobby Creation Failed",description:t?.reason||t?.message||"Please try again.",variant:"destructive",duration:5e3,action:e?(0,s.jsx)("a",{href:`https://evmtestnet.confluxscan.org/tx/${e}`,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-800 underline text-sm",children:"View on Explorer"}):void 0})}finally{N(!1)}},J=e=>e.includes("Duel")?(0,s.jsx)(ew.A,{className:"h-5 w-5"}):e.includes("Royale")?(0,s.jsx)(eN.A,{className:"h-5 w-5"}):e.includes("Quick")?(0,s.jsx)(eC.A,{className:"h-5 w-5"}):(e.includes("Championship"),(0,s.jsx)(eD.A,{className:"h-5 w-5"})),V=e=>e.includes("Duel")?"from-red-500 to-orange-500":e.includes("Royale")?"from-purple-500 to-pink-500":e.includes("Quick")?"from-yellow-400 to-orange-500":e.includes("Championship")?"from-blue-500 to-cyan-500":"from-green-500 to-emerald-500";return t?r?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 animate-pulse-glow",children:(0,s.jsx)(ew.A,{className:"h-10 w-10 text-white"})}),(0,s.jsxs)("h1",{className:"font-montserrat font-bold text-4xl md:text-5xl mb-4",children:["Live ",(0,s.jsx)("span",{className:"text-accent",children:"Arena"})]}),(0,s.jsx)("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto mb-6",children:"Enter competitive lobbies and battle other players for CFX rewards. Winner takes all!"}),(0,s.jsxs)(o.$,{onClick:()=>{console.log("Manual refresh triggered"),W()},variant:"outline",size:"sm",className:"mb-4",disabled:f,children:[(0,s.jsx)(eL.A,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),f?"Refreshing...":"Refresh Lobbies"]}),C&&(0,s.jsxs)("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg text-sm text-muted-foreground",children:["Debug: ",C]}),t&&m&&(0,s.jsx)("div",{className:"mt-6 flex justify-center",children:(0,s.jsxs)("div",{className:"flex bg-muted/50 rounded-lg p-1",children:[(0,s.jsx)(o.$,{variant:S?"ghost":"default",size:"sm",onClick:()=>O(!1),className:"px-6",children:"All Lobbies"}),(0,s.jsx)(o.$,{variant:S?"default":"ghost",size:"sm",onClick:()=>O(!0),className:"px-6",children:"My Lobbies"})]})}),m&&(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)(ei,{open:A,onOpenChange:P,children:[(0,s.jsx)(ed,{asChild:!0,children:(0,s.jsxs)(o.$,{size:"lg",className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[(0,s.jsx)(e$,{className:"mr-2 h-4 w-4"}),"Create New Lobby"]})}),(0,s.jsxs)(em,{className:"sm:max-w-[500px]",children:[(0,s.jsxs)(ex,{className:"text-center pb-6",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(eD.A,{className:"h-8 w-8 text-white"})}),(0,s.jsx)(ep,{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Create New Lobby"}),(0,s.jsx)(eh,{className:"text-base",children:"Set up a competitive quiz lobby and invite players to join the battle!"})]}),(0,s.jsxs)("div",{className:"space-y-6 py-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(p,{htmlFor:"lobby-name",className:"text-sm font-semibold flex items-center gap-2",children:[(0,s.jsx)(ew.A,{className:"h-4 w-4 text-green-500"}),"Lobby Name"]}),(0,s.jsx)(c.p,{id:"lobby-name",placeholder:"e.g., Lightning Duel, Battle Royale, Quick Match",value:$.name,onChange:e=>_({...$,name:e.target.value}),className:"h-12 text-base",disabled:w})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(p,{htmlFor:"category",className:"text-sm font-semibold flex items-center gap-2",children:[(0,s.jsx)(eN.A,{className:"h-4 w-4 text-purple-500"}),"Quiz Category"]}),(0,s.jsxs)(h.l6,{value:$.category,onValueChange:e=>_({...$,category:e}),disabled:w,children:[(0,s.jsx)(h.bq,{className:"h-12 text-base",children:(0,s.jsx)(h.yv,{placeholder:"Choose a category for your quiz"})}),(0,s.jsxs)(h.gC,{children:[(0,s.jsx)(h.eb,{value:"Technology",children:"\uD83D\uDD2C Technology"}),(0,s.jsx)(h.eb,{value:"Cryptocurrency",children:"₿ Cryptocurrency"}),(0,s.jsx)(h.eb,{value:"Conflux Network",children:"\uD83C\uDF10 Conflux Network"}),(0,s.jsx)(h.eb,{value:"Science",children:"\uD83E\uDDEA Science"}),(0,s.jsx)(h.eb,{value:"History",children:"\uD83D\uDCDA History"}),(0,s.jsx)(h.eb,{value:"Sports",children:"⚽ Sports"}),(0,s.jsx)(h.eb,{value:"Entertainment",children:"\uD83C\uDFAC Entertainment"}),(0,s.jsx)(h.eb,{value:"General Knowledge",children:"\uD83E\uDDE0 General Knowledge"}),(0,s.jsx)(h.eb,{value:"Mathematics",children:"\uD83D\uDD22 Mathematics"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(p,{htmlFor:"entry-fee",className:"text-sm font-semibold flex items-center gap-2",children:[(0,s.jsx)(eP.A,{className:"h-4 w-4 text-yellow-500"}),"Entry Fee (CFX)"]}),(0,s.jsx)(c.p,{id:"entry-fee",type:"number",step:"0.1",min:"0.1",placeholder:"1.0",value:$.entryFee,onChange:e=>_({...$,entryFee:e.target.value}),className:"h-12 text-base",disabled:w})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(p,{htmlFor:"max-players",className:"text-sm font-semibold flex items-center gap-2",children:[(0,s.jsx)(ek.A,{className:"h-4 w-4 text-blue-500"}),"Max Players"]}),(0,s.jsxs)(h.l6,{value:$.maxPlayers,onValueChange:e=>_({...$,maxPlayers:e}),disabled:w,children:[(0,s.jsx)(h.bq,{className:"h-12 text-base",children:(0,s.jsx)(h.yv,{placeholder:"Select players"})}),(0,s.jsxs)(h.gC,{children:[(0,s.jsx)(h.eb,{value:"2",children:"\uD83D\uDC65 2 Players"}),(0,s.jsx)(h.eb,{value:"3",children:"\uD83D\uDC65 3 Players"}),(0,s.jsx)(h.eb,{value:"4",children:"\uD83D\uDC65 4 Players"}),(0,s.jsx)(h.eb,{value:"5",children:"\uD83D\uDC65 5 Players"}),(0,s.jsx)(h.eb,{value:"6",children:"\uD83D\uDC65 6 Players"}),(0,s.jsx)(h.eb,{value:"7",children:"\uD83D\uDC65 7 Players"}),(0,s.jsx)(h.eb,{value:"8",children:"\uD83D\uDC65 8 Players"}),(0,s.jsx)(h.eb,{value:"9",children:"\uD83D\uDC65 9 Players"}),(0,s.jsx)(h.eb,{value:"10",children:"\uD83D\uDC65 10 Players"})]})]})]})]}),$.entryFee&&$.maxPlayers&&(0,s.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(eD.A,{className:"h-5 w-5 text-yellow-600"}),(0,s.jsx)("span",{className:"font-semibold text-yellow-800",children:"Prize Pool Preview"})]}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-yellow-700",children:[(parseFloat($.entryFee)*parseInt($.maxPlayers)).toFixed(1)," CFX"]}),(0,s.jsx)("div",{className:"text-sm text-yellow-600",children:"Winner takes all! \uD83C\uDFC6"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,s.jsx)(o.$,{variant:"outline",onClick:()=>P(!1),disabled:w,className:"h-12 px-6",children:"Cancel"}),(0,s.jsx)(o.$,{onClick:G,disabled:w||!$.name.trim()||!$.category||!$.entryFee,className:"h-12 px-8 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 disabled:opacity-50",children:w?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Creating Lobby..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eD.A,{className:"mr-2 h-5 w-5"}),"Create Lobby"]})})]})]})]})}),(0,s.jsx)(ei,{open:k,onOpenChange:F,children:(0,s.jsxs)(em,{className:"sm:max-w-[425px]",children:[(0,s.jsx)(ex,{children:(0,s.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center animate-pulse",children:(0,s.jsx)(eA.A,{className:"h-8 w-8 text-green-600"})}),(0,s.jsx)(ep,{className:"text-2xl font-bold text-green-600",children:"Lobby Created Successfully!"}),(0,s.jsxs)(eh,{className:"text-lg",children:["Your lobby ",(0,s.jsxs)("span",{className:"font-semibold text-gray-900",children:['"',E,'"']})," has been created and is now live in the arena."]})]})}),(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-green-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Lobby is now accepting players"})]})})}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)(o.$,{onClick:()=>F(!1),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 px-8",children:[(0,s.jsx)(eD.A,{className:"mr-2 h-4 w-4"}),"Awesome!"]})})]})})]}),f?(0,s.jsxs)("div",{className:"jsx-ca93dd38675b7761 grid gap-6",children:[[void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(i.Zp,{className:"border-2 border-muted/20 overflow-hidden",children:(0,s.jsxs)(i.Wu,{className:"p-8 relative",children:[(0,s.jsx)("div",{className:"jsx-ca93dd38675b7761 absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/10 to-transparent animate-[shimmer_1.6s_infinite]"}),(0,s.jsxs)("div",{className:"jsx-ca93dd38675b7761 space-y-5",children:[(0,s.jsxs)("div",{className:"jsx-ca93dd38675b7761 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"jsx-ca93dd38675b7761 w-12 h-12 bg-muted rounded-xl"}),(0,s.jsxs)("div",{className:"jsx-ca93dd38675b7761 space-y-2",children:[(0,s.jsx)("div",{className:"jsx-ca93dd38675b7761 h-6 w-56 bg-muted rounded"}),(0,s.jsx)("div",{className:"jsx-ca93dd38675b7761 h-4 w-80 bg-muted/80 rounded"})]})]}),(0,s.jsxs)("div",{className:"jsx-ca93dd38675b7761 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"jsx-ca93dd38675b7761 h-5 w-36 bg-muted rounded"}),(0,s.jsx)("div",{className:"jsx-ca93dd38675b7761 h-5 w-28 bg-muted rounded"}),(0,s.jsx)("div",{className:"jsx-ca93dd38675b7761 h-5 w-32 bg-muted rounded"})]}),(0,s.jsx)("div",{className:"jsx-ca93dd38675b7761 h-12 w-40 bg-muted rounded-lg"})]})]})},t)),(0,s.jsx)(n(),{id:"ca93dd38675b7761",children:"@-webkit-keyframes shimmer{100%{-webkit-transform:translatex(100%);transform:translatex(100%)}}@-moz-keyframes shimmer{100%{-moz-transform:translatex(100%);transform:translatex(100%)}}@-o-keyframes shimmer{100%{-o-transform:translatex(100%);transform:translatex(100%)}}@keyframes shimmer{100%{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}}"})]}):(0,s.jsx)("div",{className:"grid gap-6",children:q.map(e=>(0,s.jsxs)(i.Zp,{"data-lobby-id":e.id,className:`relative overflow-hidden group hover:shadow-2xl transition-all duration-500 border-2 ${e.isActive?"hover:border-accent/50 border-accent/20":"opacity-60 border-muted/20"}`,"aria-label":`Lobby ${e.name}`,children:[(0,s.jsx)("div",{className:`absolute inset-0 bg-gradient-to-br ${V(e.mode)} rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500`,"aria-hidden":!0}),(0,s.jsx)(i.Wu,{className:"relative p-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:`w-12 h-12 bg-gradient-to-br ${V(e.mode)} rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300`,children:J(e.mode)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-2xl font-montserrat font-bold",children:e.mode}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[e.isUserInLobby&&(0,s.jsx)(d.E,{variant:"default",className:"bg-green-500 text-white","aria-label":"You're in this lobby",children:"You're in this lobby"}),m&&e.creator?.toLowerCase()===m.toLowerCase()&&(0,s.jsxs)(d.E,{variant:"outline",className:"border-purple-500 text-purple-600 bg-purple-50","aria-label":"You created this lobby",children:[(0,s.jsx)(eN.A,{className:"h-3 w-3 mr-1"}),"Creator"]}),(0,s.jsxs)(d.E,{variant:"outline",className:"text-xs","aria-label":`Players ${e.currentPlayers} of ${e.maxPlayers}`,children:["Players: ",e.currentPlayers,"/",e.maxPlayers]}),e.status&&(0,s.jsx)(e9,{children:(0,s.jsxs)(te,{children:[(0,s.jsx)(tt,{asChild:!0,children:(0,s.jsx)(d.E,{variant:"outline",className:`text-xs ${e.status.includes("Full")?"text-amber-600 border-amber-600":e.status.includes("Completed")?"text-purple-700 border-purple-700":e.status.includes("progress")?"text-blue-700 border-blue-700":"text-slate-600 border-slate-600"}`,"aria-label":`Status ${e.status}`,children:e.status})}),(0,s.jsx)(tr,{children:(0,s.jsxs)("p",{children:["Lobby status: ",e.status]})})]})}),!e.isActive&&!e.isUserInLobby&&(0,s.jsx)(d.E,{variant:"secondary","aria-label":e.currentPlayers>=e.maxPlayers?"Full":"Viewable by All",children:e.currentPlayers>=e.maxPlayers?"Full":"Viewable by All"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-8 text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eP.A,{className:"h-5 w-5 text-yellow-500"}),(0,s.jsxs)("span",{className:"font-semibold text-lg",children:[e.entryFee," CFX"]}),(0,s.jsx)("span",{className:"text-sm",children:"entry fee"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ek.A,{className:"h-5 w-5 text-blue-500"}),(0,s.jsxs)("span",{className:"font-semibold text-lg",children:[e.currentPlayers,"/",e.maxPlayers]}),(0,s.jsx)("span",{className:"text-sm",children:"players"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eD.A,{className:"h-5 w-5 text-purple-500"}),(0,s.jsxs)("span",{className:"font-semibold text-lg",children:[(Number.parseFloat(e.entryFee)*e.maxPlayers).toFixed(1)," CFX"]}),(0,s.jsx)("span",{className:"text-sm",children:"prize pool"})]})]})]}),(0,s.jsx)("div",{className:"flex flex-col gap-3",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[e.isUserInLobby?(0,s.jsxs)(o.$,{onClick:()=>window.location.href=`/arena/${Number(e.id)}`,size:"lg",className:"h-14 px-8 text-lg font-semibold shadow-lg transition-all duration-300 bg-green-500 hover:bg-green-600 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-green-600","aria-label":`Enter lobby ${e.name}`,children:[(0,s.jsx)(ew.A,{className:"mr-3 h-5 w-5"}),"\uD83D\uDE80 Enter Lobby"]}):(0,s.jsx)(o.$,{onClick:()=>e.isActive?Z(e):window.location.href=`/arena/${Number(e.id)}`,disabled:v===e.id,size:"lg",className:"h-14 px-8 text-lg font-semibold shadow-lg transition-all duration-300 hover:shadow-accent/25 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-accent","aria-label":e.isActive?`Join lobby ${e.name} for ${e.entryFee} CFX`:`View results for lobby ${e.name}`,children:v===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_.A,{className:"mr-3 h-5 w-5 animate-spin"}),"Joining Battle..."]}):(0,s.jsx)(s.Fragment,{children:e.isActive?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ew.A,{className:"mr-3 h-5 w-5"}),"Enter Battle (",e.entryFee," CFX)"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eD.A,{className:"mr-3 h-5 w-5"}),"View Results (Open to All)"]})})}),M(e.id)&&m&&R&&m.toLowerCase()===R.toLowerCase()&&(0,s.jsx)(o.$,{onClick:()=>U(e.id),disabled:T===e.id,size:"lg",variant:"outline",className:"h-14 px-6 text-lg font-semibold border-amber-500 text-amber-600 hover:bg-amber-50","aria-label":`Update scores for lobby ${e.name}`,children:T===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Updating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eD.A,{className:"mr-2 h-5 w-5"}),"Update Scores"]})}),X(e.id)&&m&&R&&m.toLowerCase()===R.toLowerCase()&&(0,s.jsxs)(o.$,{onClick:()=>B(e.id),size:"lg",className:"h-14 px-6 text-lg font-semibold bg-purple-600 hover:bg-purple-700 text-white","aria-label":`Resolve and distribute prize for lobby ${e.name}`,children:[(0,s.jsx)(eD.A,{className:"mr-2 h-5 w-5"}),"Resolve & Distribute"]})]})})]})})]},e.id))}),!f&&0===q.length&&(0,s.jsx)(i.Zp,{className:"border-2 border-accent/20",children:(0,s.jsxs)(i.Wu,{className:"py-16 text-center",children:[(0,s.jsx)(eD.A,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),(0,s.jsx)("h3",{className:"text-2xl font-bold mb-4",children:S?"No Lobbies Created":"No Active Lobbies"}),(0,s.jsx)("p",{className:"text-muted-foreground text-lg mb-8",children:S?"You haven't created any lobbies yet. Create your first lobby to get started!":"All warriors are currently in battle. Check back soon for new challenges!"}),(0,s.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,s.jsx)(o.$,{variant:"outline",size:"lg",onClick:()=>window.location.reload(),children:"Refresh Lobbies"}),S&&(0,s.jsxs)(o.$,{size:"lg",onClick:()=>P(!0),children:[(0,s.jsx)(e$,{className:"h-4 w-4 mr-2"}),"Create Lobby"]})]})]})})]})}):(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"max-w-3xl mx-auto text-center",children:(0,s.jsx)(i.Zp,{className:"border-2 border-accent/20",children:(0,s.jsxs)(i.Wu,{className:"py-16",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-accent to-secondary rounded-2xl flex items-center justify-center mx-auto mb-6 animate-pulse-glow",children:(0,s.jsx)(eE,{className:"h-10 w-10 text-white"})}),(0,s.jsx)("h2",{className:"font-montserrat font-bold text-3xl mb-4",children:"Wrong Network"}),(0,s.jsxs)("p",{className:"text-xl text-muted-foreground mb-8",children:["Please switch to ",ej.qQ.name," (Chain ID ",ej.qQ.chainId,") to join the arena."]}),(0,s.jsxs)(o.$,{size:"lg",onClick:u,children:["Switch to ",ej.qQ.name]})]})})})}):(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"max-w-3xl mx-auto text-center",children:(0,s.jsx)(i.Zp,{className:"border-2 border-accent/20",children:(0,s.jsxs)(i.Wu,{className:"py-16",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-accent to-secondary rounded-2xl flex items-center justify-center mx-auto mb-6 animate-pulse-glow",children:(0,s.jsx)(eD.A,{className:"h-10 w-10 text-white"})}),(0,s.jsx)("h2",{className:"font-montserrat font-bold text-3xl mb-4",children:"Connect Your Wallet"}),(0,s.jsx)("p",{className:"text-xl text-muted-foreground mb-8",children:"Join the arena and compete with players worldwide for CFX rewards"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,s.jsx)(eA.A,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),(0,s.jsx)("div",{className:"font-semibold",children:"Secure"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Blockchain Protected"})]}),(0,s.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,s.jsx)(eP.A,{className:"h-8 w-8 text-yellow-500 mx-auto mb-2"}),(0,s.jsx)("div",{className:"font-semibold",children:"Real Rewards"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Win CFX Tokens"})]}),(0,s.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,s.jsx)(ek.A,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),(0,s.jsx)("div",{className:"font-semibold",children:"Live Battles"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Real-time PvP"})]})]})]})})})})}e7.displayName=e4},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58637:(e,t,r)=>{Promise.resolve().then(r.bind(r,77157))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63974:(e,t,r)=>{"use strict";r.d(t,{bq:()=>u,eb:()=>x,gC:()=>m,l6:()=>d,yv:()=>c});var s=r(60687);r(43210);var a=r(91413),n=r(78272),l=r(13964),o=r(3589),i=r(96241);function d({...e}){return(0,s.jsx)(a.bL,{"data-slot":"select",...e})}function c({...e}){return(0,s.jsx)(a.WT,{"data-slot":"select-value",...e})}function u({className:e,size:t="default",children:r,...l}){return(0,s.jsxs)(a.l9,{"data-slot":"select-trigger","data-size":t,className:(0,i.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...l,children:[r,(0,s.jsx)(a.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function m({className:e,children:t,position:r="popper",...n}){return(0,s.jsx)(a.ZL,{children:(0,s.jsxs)(a.UC,{"data-slot":"select-content",className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[(0,s.jsx)(p,{}),(0,s.jsx)(a.LM,{className:(0,i.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,s.jsx)(h,{})]})})}function x({className:e,children:t,...r}){return(0,s.jsxs)(a.q7,{"data-slot":"select-item",className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(a.VF,{children:(0,s.jsx)(l.A,{className:"size-4"})})}),(0,s.jsx)(a.p4,{children:t})]})}function p({className:e,...t}){return(0,s.jsx)(a.PP,{"data-slot":"select-scroll-up-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(o.A,{className:"size-4"})})}function h({className:e,...t}){return(0,s.jsx)(a.wn,{"data-slot":"select-scroll-down-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(n.A,{className:"size-4"})})}},68988:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(60687);r(43210);var a=r(96241);function n({className:e,type:t,...r}){return(0,s.jsx)("input",{type:t,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}},74075:e=>{"use strict";e.exports=require("zlib")},77157:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vikashyadav/Developer/AllgitFiles/QuizCraft/Frontend/app/arena/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vikashyadav/Developer/AllgitFiles/QuizCraft/Frontend/app/arena/page.tsx","default")},77598:e=>{"use strict";e.exports=require("node:crypto")},81630:e=>{"use strict";e.exports=require("http")},82605:(e,t,r)=>{Promise.resolve().then(r.bind(r,7393))},85748:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(65239),a=r(48088),n=r(88170),l=r.n(n),o=r(30893),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let d={children:["",{children:["arena",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,77157)),"/Users/vikashyadav/Developer/AllgitFiles/QuizCraft/Frontend/app/arena/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/vikashyadav/Developer/AllgitFiles/QuizCraft/Frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/vikashyadav/Developer/AllgitFiles/QuizCraft/Frontend/app/arena/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/arena/page",pathname:"/arena",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[828,243,132,567,16,441],()=>r(85748));module.exports=s})();