"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[367],{501:(e,t,n)=>{n.d(t,{$:()=>o,Web3Provider:()=>d});var a=n(5155),i=n(2115),r=n(1973),s=n(883);let u=(0,i.createContext)(void 0);function d(e){let{children:t}=e,[n,d]=(0,i.useState)(null),[o,l]=(0,i.useState)(null),[p,y]=(0,i.useState)(null),[c,m]=(0,i.useState)(null),[b,f]=(0,i.useState)(!1),[w,v]=(0,i.useState)(null),h=c===s.qQ.chainId,T=async()=>{try{if(f(!0),v(null),!window.ethereum)throw Error("MetaMask is not installed");let e=new r.k(window.ethereum),t=await e.send("eth_requestAccounts",[]),n=await e.getSigner(),a=await e.getNetwork();d(e),l(n),y(t[0]),m(Number(a.chainId)),Number(a.chainId)!==s.qQ.chainId&&await g()}catch(e){v(e.message)}finally{f(!1)}},g=async()=>{try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(s.qQ.chainId.toString(16))}]})}catch(e){if(4902===e.code)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x".concat(s.qQ.chainId.toString(16)),chainName:s.qQ.name,rpcUrls:[s.qQ.rpcUrl],blockExplorerUrls:[s.qQ.blockExplorer],nativeCurrency:s.qQ.nativeCurrency}]})}catch(e){throw Error("Failed to add Conflux network to MetaMask")}else throw e}};return(0,i.useEffect)(()=>(window.ethereum&&((async()=>{try{let e=await window.ethereum.request({method:"eth_chainId"});e&&m(Number.parseInt(e,16));let t=await window.ethereum.request({method:"eth_accounts"});if(t&&t.length>0){let e=new r.k(window.ethereum),n=await e.getSigner();d(e),l(n),y(t[0])}}catch(e){}})(),window.ethereum.on("accountsChanged",e=>{0===e.length?(y(null),l(null)):y(e[0])}),window.ethereum.on("chainChanged",e=>{m(Number.parseInt(e,16))})),()=>{window.ethereum&&(window.ethereum.removeAllListeners("accountsChanged"),window.ethereum.removeAllListeners("chainChanged"))}),[]),(0,a.jsx)(u.Provider,{value:{provider:n,signer:o,account:p,chainId:c,isConnected:!!p,isOnConflux:h,connectWallet:T,switchToConflux:g,loading:b,error:w},children:t})}function o(){let e=(0,i.useContext)(u);if(void 0===e)throw Error("useWeb3 must be used within a Web3Provider");return e}},883:(e,t,n)=>{n.d(t,{QX:()=>r,qQ:()=>i,v1:()=>s});var a=n(9509);let i={chainId:71,name:"Conflux eSpace Testnet",rpcUrl:"https://evmtestnet.confluxrpc.com",blockExplorer:"https://evmtestnet.confluxscan.io",nativeCurrency:{name:"CFX",symbol:"CFX",decimals:18}},r={QUIZ_CRAFT_ARENA:a.env.NEXT_PUBLIC_QUIZ_CRAFT_ARENA_ADDRESS||"0x810a7B6E76767aA3B572ef57F0689fa4C2bb1359",QUIZ_CRAFT_NFT:a.env.NEXT_PUBLIC_QUIZ_CRAFT_NFT_ADDRESS||"0x0987654321098765432109876543210987654321"};a.env.NEXT_PUBLIC_QUIZ_CRAFT_ARENA_ADDRESS;let s=["Technology","History","Crypto","Science","Sports","Entertainment"]},3999:(e,t,n)=>{n.d(t,{cn:()=>r});var a=n(2596),i=n(9688);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.QP)((0,a.$)(t))}},5010:(e,t,n)=>{n.d(t,{QX:()=>a.QX,UN:()=>i,dv:()=>r});var a=n(883);let i=JSON.parse('{"HV":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"lobbyId","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"leaderboard","type":"address[]"}],"name":"LeaderboardSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"lobbyId","type":"uint256"}],"name":"LobbyCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"lobbyId","type":"uint256"},{"indexed":false,"internalType":"address","name":"winner","type":"address"},{"indexed":false,"internalType":"uint256","name":"prize","type":"uint256"}],"name":"LobbyCompleted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"lobbyId","type":"uint256"},{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":false,"internalType":"string","name":"category","type":"string"},{"indexed":false,"internalType":"uint256","name":"entryFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"maxPlayers","type":"uint256"},{"indexed":false,"internalType":"address","name":"creator","type":"address"}],"name":"LobbyCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"lobbyId","type":"uint256"},{"indexed":false,"internalType":"address","name":"player","type":"address"}],"name":"PlayerJoined","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"lobbyId","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"players","type":"address[]"},{"indexed":false,"internalType":"uint256[]","name":"scores","type":"uint256[]"}],"name":"ScoresSubmitted","type":"event"},{"inputs":[],"name":"LOBBY_TIMEOUT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_category","type":"string"},{"internalType":"uint256","name":"_entryFee","type":"uint256"},{"internalType":"uint256","name":"_maxPlayers","type":"uint256"}],"name":"createLobby","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_lobbyId","type":"uint256"},{"internalType":"address","name":"_winner","type":"address"}],"name":"executeWinnerPayout","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_lobbyId","type":"uint256"}],"name":"getLobbyResult","outputs":[{"internalType":"enum QuizCraftArena.LobbyStatus","name":"","type":"uint8"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_lobbyId","type":"uint256"}],"name":"getPlayersInLobby","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_lobbyId","type":"uint256"},{"internalType":"address","name":"_player","type":"address"}],"name":"isPlayerInLobby","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_lobbyId","type":"uint256"}],"name":"joinLobby","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"leaderboardSet","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"lobbies","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"category","type":"string"},{"internalType":"uint256","name":"entryFee","type":"uint256"},{"internalType":"uint256","name":"playerCount","type":"uint256"},{"internalType":"uint256","name":"maxPlayers","type":"uint256"},{"internalType":"uint256","name":"prizePool","type":"uint256"},{"internalType":"uint256","name":"createdAt","type":"uint256"},{"internalType":"enum QuizCraftArena.LobbyStatus","name":"status","type":"uint8"},{"internalType":"enum QuizCraftArena.DistributionStatus","name":"distribution","type":"uint8"},{"internalType":"address","name":"winner","type":"address"},{"internalType":"address","name":"creator","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"lobbyLeaderboard","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nextLobbyId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"playerScores","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"_token","type":"address"},{"internalType":"address","name":"_to","type":"address"}],"name":"withdrawERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]}').HV,r=["function balanceOf(address owner) external view returns (uint256)","function tokenOfOwnerByIndex(address owner, uint256 index) external view returns (uint256)","function tokenURI(uint256 tokenId) external view returns (string)","function ownerOf(uint256 tokenId) external view returns (address)"]},8145:(e,t,n)=>{n.d(t,{E:()=>d});var a=n(5155);n(2115);var i=n(9708),r=n(2085),s=n(3999);let u=(0,r.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:n,asChild:r=!1,...d}=e,o=r?i.DX:"span";return(0,a.jsx)(o,{"data-slot":"badge",className:(0,s.cn)(u({variant:n}),t),...d})}},8482:(e,t,n)=>{n.d(t,{Wu:()=>d,ZB:()=>u,Zp:()=>r,aR:()=>s});var a=n(5155);n(2115);var i=n(3999);function r(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...n})}function s(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...n})}function u(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",t),...n})}function d(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",t),...n})}}}]);